### Leaflet Homework

***1. Briefly explain the logic for generating the base map.***

First, In this case, the tile layer(s) are being brought in through the mapbox API. In this example, the specific map that we are calling is streets-v11:

```
var graymap = L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}", {
  attribution: "© <a href='https://www.mapbox.com/about/maps/'>Mapbox</a> © <a href='http://www.openstreetmap.org/copyright'>OpenStreetMap</a> <strong><a href='https://www.mapbox.com/map-feedback/' target='_blank'>Improve this map</a></strong>",
  tileSize: 512,
  maxZoom: 18,
  zoomOffset: -1,
  id: "mapbox/streets-v11",
  accessToken: apiKey
});
```

Next, we create a map object upon which everything else will be built:

```
var map = L.map("mapid", {
  center: [
    40.7, -94.5
  ],
  zoom: 3
});
```

In this case, "mapid" is referring to the div in the html where the map will be created.

The first tile layer is then added to the map object:

```
graymap.addTo(map);
```

***2.	Describe how the JSON was loaded and how was the data traversed. Explain how was the information from the JSON used to render data on the map.***

The JSON was loaded into the Javascript using D3 using a USGS API call. The response data is then funneled through an attached function. Within that function, there are three other functions that affect the style, color, and radius of the markers. Then, the function generates a geoJSON layer for leaflet which is added to the map object. 

***3.	Explain the logic for generating the circles and amending the size of them. What does this communicate?***

The function, __styleInfo__, returns the base data that will modify the style of each map point based on its magnitude, which is determined by:
```
feature.properties.mag
```
The function, __getColor__, is called within __styleInfo__ and returns a color hex code based on the magnitude of the earthquake.

The function, __getRadius__, is also called within __styleInfo__ and simply returns a multiple of the magnitude of the earthquake as long as the value is not 0. This is simply to create more distinction between earthquakes of different magnitudes.

Overall, The size of the circle communicates the magnitude of the earthquake, which is in reference to the maximum motion recorded by a seismograph.

***4.	Describe how the layer for the Tectonic plates was generated.***

The layer for tectonic plates was generated based on this component of code:

```
d3.json("https://raw.githubusercontent.com/fraxen/tectonicplates/master/GeoJSON/PB2002_boundaries.json",
    function(platedata) {
      // Adding our geoJSON data, along with style information, to the tectonicplates
      // layer.
      L.geoJson(platedata, {
        color: "orange",
        weight: 2
      })
      .addTo(tectonicplates);

      // Then add the tectonicplates layer to the map.
      tectonicplates.addTo(map);
    });
});
```

Here, geoJSON boundaries/polygons are being brought in through a webservice and added to the tectonic plates layer group, which was created through this line:

```
var tectonicplates = new L.LayerGroup();
```

This was then added to the overlays var, which was then added to the layer controls (*see question 5*).


***5.	What are the components in the layer control? How were they generated?***

The location where the layer control itself is instantiated is:
```
L
  .control
  .layers(baseMaps, overlays)
  .addTo(map);
```

In terms of its components, __baseMaps__ refers to the three tile layers which can be switched on and off. They were generated by specifying each tile layer in a similar fashion as question 1, and then they are passed into the layers variable within the map object.

The __overlays__ object refers to the tectonic plate layer and an earthquakes layer.

Together, these are both made available within the layers parameter of the map object. However, the leaflet control layer creates the option to turn off and on layers as desired.


***6.	Explain the difference between the base map (tile layer) and the data layer(s).***

A tile layer(s) is essentially the map that will serve as the foundation for all of your points to be built on top of. The data layer(s) serve as points that are placed on top of the map itself.  

**7.	Walk through the logic of how the legend was generated and rendered on the page.***

There are two components to this:
```
 var legend = L.control({
    position: "bottomright"
  });
```
The first component creates a Leaflet control layer which serves a the legend in the bottom right of the page.

```
legend.onAdd = function() {
    var div = L.DomUtil.create("div", "info legend");

    var grades = [0, 1, 2, 3, 4, 5];
    var colors = [
      "#98ee00",
      "#d4ee00",
      "#eecc00",
      "#ee9c00",
      "#ea822c",
      "#ea2c2c"
    ];

    // Looping through our intervals to generate a label with a colored square for each interval.
    for (var i = 0; i < grades.length; i++) {
      div.innerHTML +=
        "<i style='background: " + colors[i] + "'></i> " +
        grades[i] + (grades[i + 1] ? "&ndash;" + grades[i + 1] + "<br>" : "+");
    }
    return div;
  };
```

The second component is the actual function which creates container that the legend will be placed into within the html. The div variable creates a new div in the html with a class name of __info legend__. The two other variables, grades and colors, represent the colors of each option in the legend. The for loop then adds <i> tags within the div tag/variable based on the grades and colors, as well as a break tag.

The legend is then added to the map object:
```
legend.addTo(map);
```
